# Инструкция по Деплою и Очистке Базы Данных (Render)

## 1. Как очистить базу данных на Render

Если вы хотите полностью удалить всех пользователей и тестовые данные (сброс базы):

1.  Зайдите в **Render Dashboard**.
2.  Выберите ваш Backend сервис.
3.  Перейдите во вкладку **"Shell"** (в левом меню).
4.  Введите команду для полной очистки:
    ```bash
    python manage.py flush
    ```
    *(Вас спросят подтверждение — введите `yes`)*.

---

## 2. Как восстановить данные (Курсы V2)

Сразу после очистки (`flush`), выполните эти команды в том же **Shell** по очереди:

1.  **Примените миграции** (на всякий случай):
    ```bash
    python manage.py migrate
    ```

2.  **Загрузите курсы** (Python 25+ модулей и Frontend):
    ```bash
    python manage.py populate_courses
    ```

3.  **Создайте администратора** (чтобы зайти в админку):
    ```bash
    python manage.py createsuperuser
    ```

---

## 3. Деплой (Deployment)

В проекте уже настроен файл `build.sh`, который автоматически делает следующее при каждом обновлении:
- Устанавливает библиотеки.
- Применяет миграции.
- Обновляет курсы (`populate_courses`).

### Как задеплоить изменения (Backend + Frontend):
Вам нужно просто отправить изменения в GitHub (ветка `main` или та, которая подключена к Render). Render сам увидит изменения и начнет сборку.

1.  **В терминале VS Code**:
    ```bash
    git add .
    git commit -m "Готов к деплою V2"
    git push origin main
    ```

2.  Render автоматически начнет новый деплой. Вы можете следить за процессом во вкладке **Events** или **Logs** на Render.

3.  Для **Frontend (Vite + React)** на Render или Vercel убедитесь, что установлена переменная окружения:

    - `VITE_API_URL=https://ВАШ-БЭКЕНД-НА-RENDER.onrender.com`

    Тогда фронтенд будет отправлять запросы именно на ваш задеплоенный backend.
